# Go Mini Projects — структуры, интерфейсы, ошибки, REST API (Gin)

Набор практических задач по Go: структуры/методы/интерфейсы, работа с ошибками и мини-REST API на базе Gin.

> Прогресс: Раздел 1 — первые 3 задачи выполнены (перечёркнуты в списке ниже).
<br>

Будущая структура проекта
```
.
├─ cmd/
│  └─ api/
│     └─ main.go         
├─ internal/
│  ├─ user/
│  │  ├─ model.go        
│  │  ├─ repo.go         
│  │  ├─ service.go     
│  │  └─ transport_http.go
│  └─ middleware/
│     └─ errors.go        
├─ pkg/
│  └─ respond/           
└─ REST_API.md
```
<br>
<br>




# Раздел 1 — Структуры, методы, интерфейсы

### ~~Задача 1 — Менеджер задач~~  
Создать структуры для управления списком задач.

**Необходимо:**
- Добавить методы:
  - добавление новой задачи;  
  - пометка задачи как выполненной;  
  - получение списка всех задач.  
- Добавить проверку: если задача с указанным ID не найдена — вернуть ошибку.  
- Реализовать генерацию уникальных ID для задач.  

---

### ~~Задача 2 — Магазин товаров~~  
Создать структуры для **магазина** и **товара**.

**Необходимо:**
- Реализовать методы:
  - добавление товара в магазин;  
  - поиск товара по названию;  
  - вычисление общей стоимости всех товаров.  
- Обработать ситуацию, если товар не найден (возврат ошибки).  

---

### ~~Задача 3 — Интерфейс фигур~~  
Создать интерфейс `Shape`, описывающий фигуру с методами для вычисления **площади** и **периметра**.

**Необходимо:**
- Реализовать несколько типов фигур (например, `Rectangle`, `Circle`).  
- Сделать функцию, которая принимает любую фигуру и выводит её тип, площадь и периметр.  

---

### Задача 4 — Банковские аккаунты  
Создать интерфейс **банковского счёта** с методами для:
- пополнения (`Deposit`),  
- снятия (`Withdraw`),  
- проверки баланса (`Balance`).  

**Реализовать два типа счетов:**
- **Дебетовый** — не может уходить в минус;  
- **Кредитный** — может уходить в минус до заданного лимита.

**Продумать:**
- как обрабатывать ошибки (например, попытка снять больше, чем доступно);
- как отображать баланс и лимит.  

---

### Задача 5 — Работа с пользовательским типом  
Создать собственный тип на основе **среза чисел** (`type NumberList []int`).

**Добавить методы:**
- вычисление суммы;  
- вычисление среднего значения;  
- фильтрация элементов по условию (функция-предикат).

Проверить работу на разных наборах чисел.

---

### Задача 6 — Сервис пользователей  
Создать сервис для **управления пользователями**.

**Реализовать методы:**
- создание нового пользователя;  
- поиск по ID (возврат ошибки, если не найден);  
- удаление пользователя;  
- получение списка всех пользователей.  

Добавить собственный тип ошибки `UserNotFoundError`.

---

# Раздел 2 — Ошибки

### Задача 1 — Деление с проверкой  
Реализовать функцию деления двух чисел, которая возвращает **ошибку**, если делитель равен нулю.  
Обработать ошибку в вызывающем коде с помощью `if err != nil`.

---

### Задача 2 — Кастомная ошибка  
Создать **собственный тип ошибки**, например:  
`type NotFoundError struct { ID int }`

**Реализовать:**
- метод `Error() string`;  
- функцию, которая ищет элемент по ID в коллекции и возвращает эту ошибку.  
- обработку ошибки через `errors.As` или `errors.Is`.  

---

### Задача 3 — Оборачивание ошибок  
Создать базовую ошибку, например `"ошибка базы данных"`.  
В другой функции обернуть её с помощью `%w`:

```go
return fmt.Errorf("ошибка запроса: %w", baseErr)
```

Проверить в вызывающем коде, что ошибка корректно распознаётся через `errors.Is.`



# Раздел 3 — REST API (на базе Gin)

## Изучить и понять

###  Как работает библиотека **Gin**:
- инициализация сервера;  
- маршруты и группы маршрутов;  
- запуск сервера.  

###  Как обрабатывать HTTP-методы:
- **GET**  
- **POST**  
- **PUT**  
- **DELETE**

###  Как читать тело запроса:
- `BindJSON`  
- `ShouldBindJSON`

###  Как формировать ответ в JSON:
- `c.JSON`  
- `c.IndentedJSON`

###  Как возвращать статусы и ошибки:
- `http.StatusOK`  
- `http.StatusBadRequest`  
- `http.StatusNotFound`  
- `http.StatusInternalServerError`

###  Как получать параметры маршрута:
- `Param`  
- `Query`

###  Как использовать **middleware**:
- логирование;  
- обработка ошибок;  
- CORS.  

###  Как валидировать данные:
- возвращать осмысленные ошибки;  
- указывать корректные HTTP-статусы;  
- обеспечивать консистентные ответы API.
